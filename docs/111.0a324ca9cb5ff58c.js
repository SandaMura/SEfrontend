"use strict";(self.webpackChunkSEfrontend=self.webpackChunkSEfrontend||[]).push([[111],{5111:(Zn,fe,u)=>{u.r(fe),u.d(fe,{QuestionsComponent:()=>Ct,QuestionsModule:()=>Qn,QuestionsService:()=>L});var j=u(4004),r=u(8256),O=u(529);let L=(()=>{class t{constructor(e){this.httpClient=e}getQuestions(){return this.httpClient.get("assets/database.json").pipe((0,j.U)(e=>e.meta.types))}static#e=this.\u0275fac=function(o){return new(o||t)(r.LFG(O.eN))};static#t=this.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var l=(()=>{return(t=l||(l={})).CATEGORY="category",t.BUDGET="budget",t.DISTANCE="distance",t.DURATION="duration",t.SCOPE="scope",l;var t})(),D=u(6773);let pe=(()=>{class t{constructor(e,o,i){this.http=e,this.router=o,this.route=i}processAnswers(e){let o=this.initializeDestinationResult(),i=[];this.getAllDestinations().subscribe({next:s=>{if(i=s,console.log(s),o.push(...this.filterDestinationsBasedOnAnswers(i,e)),0!=o.length){let a=[];e.forEach(p=>{p.response instanceof Array&&(a=p.response)});const c=this.filterDestinationBasedOnScope(o,a);o=[],o=[...c]}localStorage.getItem("conclusions")&&localStorage.removeItem("conclusions"),localStorage.setItem("conclusions",JSON.stringify(o)),this.router.navigate(["/conclusions"],{relativeTo:this.route})}})}initializeDestinationResult(){return[]}getAllDestinations(){return this.http.get("assets/database.json").pipe((0,j.U)(e=>e.answers))}filterDestinationsBasedOnAnswers(e,o){return e.filter(i=>this.filterRuleExceptScope(i,o))}filterRuleExceptScope(e,o){let i=!0;return o.forEach(s=>{switch(s.id){case l.CATEGORY:e[l.CATEGORY]!=s.response&&(i=!1);break;case l.DURATION:e[l.DURATION]!=s.response&&(i=!1);break;case l.BUDGET:(50===s.response&&e[l.BUDGET]>s.response||150===s.response&&!(e[l.BUDGET]<=150&&e[l.BUDGET]>50)||400===s.response&&!(e[l.BUDGET]<=400&&e[l.BUDGET]>150)||500===s.response&&!(e[l.BUDGET]>400))&&(i=!1);break;case l.DISTANCE:(500===s.response&&e[l.DISTANCE]>s.response||1e3===s.response&&!(e[l.DISTANCE]<=1e3&&e[l.DISTANCE]>500)||2e3===s.response&&!(e[l.DISTANCE]<=2e3&&e[l.DISTANCE]>1e3)||3e3===s.response&&!(e[l.DISTANCE]>2e3))&&(i=!1)}}),i}filterDestinationBasedOnScope(e,o){return e.filter(i=>this.filterRuleForScopes(i,o))}filterRuleForScopes(e,o){let i=!1;return o.forEach(s=>{e.scope.forEach(a=>{s===a&&(i=!0)})}),i}static#e=this.\u0275fac=function(o){return new(o||t)(r.LFG(O.eN),r.LFG(D.F0),r.LFG(D.gz))};static#t=this.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var g=u(6895),Vt=u(2076),bt=u(9751),At=u(4742),Dt=u(8421),Mt=u(7669),Et=u(5403),Ft=u(3268),wt=u(1810);let ge=(()=>{class t{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),v=(()=>{class t extends ge{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=r.n5z(t)))(o||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const f=new r.OlP("NgValueAccessor"),St={provide:f,useExisting:(0,r.Gpc)(()=>N),multi:!0},Bt=new r.OlP("CompositionEventMode");let N=(()=>{class t extends ge{constructor(e,o,i){super(e,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xt(){const t=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Bt,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&r.NdJ("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[r._Bn([St]),r.qOj]}),t})();const Gt=!1,d=new r.OlP("NgValidators"),y=new r.OlP("NgAsyncValidators");function Ee(t){return null!=t}function Fe(t){const n=(0,r.QGY)(t)?(0,Vt.D)(t):t;if(Gt&&!(0,r.CqO)(n)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new r.vHH(-1101,e)}return n}function we(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function Oe(t,n){return n.map(e=>e(t))}function Ne(t){return t.map(n=>function kt(t){return!t.validate}(n)?n:e=>n.validate(e))}function q(t){return null!=t?function Se(t){if(!t)return null;const n=t.filter(Ee);return 0==n.length?null:function(e){return we(Oe(e,n))}}(Ne(t)):null}function Y(t){return null!=t?function xe(t){if(!t)return null;const n=t.filter(Ee);return 0==n.length?null:function(e){return function Ot(...t){const n=(0,Mt.jO)(t),{args:e,keys:o}=(0,At.D)(t),i=new bt.y(s=>{const{length:a}=e;if(!a)return void s.complete();const c=new Array(a);let p=a,A=a;for(let H=0;H<a;H++){let he=!1;(0,Dt.Xf)(e[H]).subscribe((0,Et.x)(s,Jn=>{he||(he=!0,A--),c[H]=Jn},()=>p--,void 0,()=>{(!p||!he)&&(A||s.next(o?(0,wt.n)(o,c):c),s.complete())}))}});return n?i.pipe((0,Ft.Z)(n)):i}(Oe(e,n).map(Fe)).pipe((0,j.U)(we))}}(Ne(t)):null}function Be(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function $(t){return t?Array.isArray(t)?t:[t]:[]}function x(t,n){return Array.isArray(t)?t.includes(n):t===n}function ke(t,n){const e=$(n);return $(t).forEach(i=>{x(e,i)||e.push(i)}),e}function Ie(t,n){return $(n).filter(e=>!x(t,e))}class Re{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=q(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Y(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class h extends Re{get formDirective(){return null}get path(){return null}}class m extends Re{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pe{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ue=(()=>{class t extends Pe{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(m,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&r.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[r.qOj]}),t})();const M="VALID",G="INVALID",V="PENDING",E="DISABLED";function T(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class qe{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===M}get invalid(){return this.status===G}get pending(){return this.status==V}get disabled(){return this.status===E}get enabled(){return this.status!==E}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(ke(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(ke(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Ie(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Ie(n,this._rawAsyncValidators))}hasValidator(n){return x(this._rawValidators,n)}hasAsyncValidator(n){return x(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=V,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=E,this.errors=null,this._forEachChild(o=>{o.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=M,this._forEachChild(o=>{o.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===M||this.status===V)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E:M}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=V,this._hasOwnPendingAsyncValidator=!0;const e=Fe(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,i)=>o&&o._find(i),this)}getError(n,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?E:this.errors?G:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(V)?V:this._anyControlsHaveStatus(G)?G:M}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){T(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function qt(t){return Array.isArray(t)?q(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function Yt(t){return Array.isArray(t)?Y(t):t||null}(this._rawAsyncValidators)}}const b=new r.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>k}),k="always";function F(t,n,e=k){(function K(t,n){const e=function Ge(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(Be(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const o=function Te(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(Be(o,n.asyncValidator)):"function"==typeof o&&t.setAsyncValidators([o]);const i=()=>t.updateValueAndValidity();P(n._rawValidators,i),P(n._rawAsyncValidators,i)})(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function zt(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ye(t,n)})}(t,n),function Jt(t,n){const e=(o,i)=>{n.valueAccessor.writeValue(o),i&&n.viewToModelUpdate(o)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function Qt(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ye(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function Wt(t,n){if(n.valueAccessor.setDisabledState){const e=o=>{n.valueAccessor.setDisabledState(o)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function P(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Ye(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ze(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function Qe(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Je=class extends qe{constructor(n=null,e,o){super(function J(t){return(T(t)?t.validators:t)||null}(e),function Z(t,n){return(T(n)?n.asyncValidators:t)||null}(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),T(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Qe(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ze(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ze(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){Qe(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},rn={provide:m,useExisting:(0,r.Gpc)(()=>re)},Ke=(()=>Promise.resolve())();let re=(()=>{class t extends m{constructor(e,o,i,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Je,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function ne(t,n){if(!n)return null;let e,o,i;return Array.isArray(n),n.forEach(s=>{s.constructor===N?e=s:function Kt(t){return Object.getPrototypeOf(t.constructor)===v}(s)?o=s:i=s}),i||o||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function te(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){F(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Ke.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,i=0!==o&&(0,r.D6c)(o);Ke.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function I(t,n){return[...n.path,t]}(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(h,9),r.Y36(d,10),r.Y36(y,10),r.Y36(f,10),r.Y36(r.sBO,8),r.Y36(b,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([rn]),r.qOj,r.TTD]}),t})();const ln={provide:f,useExisting:(0,r.Gpc)(()=>ie),multi:!0};let tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),un=(()=>{class t{constructor(){this._accessors=[]}add(e,o){this._accessors.push([e,o])}remove(e){for(let o=this._accessors.length-1;o>=0;--o)if(this._accessors[o][1]===e)return void this._accessors.splice(o,1)}select(e){this._accessors.forEach(o=>{this._isSameGroup(o,e)&&o[1]!==e&&o[1].fireUncheck(e.value)})}_isSameGroup(e,o){return!!e[0].control&&e[0]._parent===o._control._parent&&e[1].name===o.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:tt}),t})(),ie=(()=>{class t extends v{constructor(e,o,i,s){super(e,o),this._registry=i,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,r.f3M)(b,{optional:!0})??k}ngOnInit(){this._control=this._injector.get(m),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(un),r.Y36(r.zs3))},t.\u0275dir=r.lG2({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,o){1&e&&r.NdJ("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r._Bn([ln]),r.qOj]}),t})(),Nn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[tt]}),t})(),xn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:b,useValue:e.callSetDisabledState??k}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Nn]}),t})();var yt=u(5454),vt=u(1795);function Bn(t,n){if(1&t){const e=r.EpF();r.ynx(0),r.TgZ(1,"input",5,6),r.NdJ("change",function(){r.CHM(e);const i=r.MAs(2),s=r.oxw().$implicit,a=r.oxw(2);return r.KtG(a.onChange(s.response,i.checked))}),r.qZA(),r.BQk()}if(2&t){const e=r.oxw(),o=e.index,i=e.$implicit,s=r.oxw().$implicit,a=r.oxw();r.xp6(1),r.Q6J("id",s.id+""+o)("name",s.id+""+o)("value",i.response)("checked",a.answers.scope.response.indexOf(i.response)>=0)}}function Gn(t,n){if(1&t){const e=r.EpF();r.ynx(0),r.TgZ(1,"input",7),r.NdJ("ngModelChange",function(i){r.CHM(e);const s=r.oxw(2).$implicit,a=r.oxw();return r.KtG(a.answers[s.id]=i)}),r.qZA(),r.BQk()}if(2&t){const e=r.oxw(),o=e.index,i=e.$implicit,s=r.oxw().$implicit,a=r.oxw();r.xp6(1),r.Q6J("id",s.id+""+o)("ngModel",a.answers[s.id])("name",s.id)("value",i)}}function Tn(t,n){if(1&t&&(r.TgZ(0,"section")(1,"div"),r.YNc(2,Bn,3,4,"ng-container",3),r.YNc(3,Gn,2,4,"ng-container",3),r.TgZ(4,"label",4)(5,"p"),r._uU(6),r.qZA()()()()),2&t){const e=n.$implicit,o=n.index,i=r.oxw().$implicit;r.xp6(2),r.Q6J("ngIf","scope"===i.id),r.xp6(1),r.Q6J("ngIf","scope"!==i.id),r.xp6(1),r.Q6J("for",i.id+""+o),r.xp6(2),r.Oqu(e.response)}}function kn(t,n){if(1&t&&(r.TgZ(0,"div")(1,"h4"),r._uU(2),r.qZA(),r._UZ(3,"br"),r.YNc(4,Tn,7,4,"section",1),r.qZA()),2&t){const e=n.$implicit;r.xp6(2),r.Oqu(e.questionText),r.xp6(2),r.Q6J("ngForOf",e.answers)}}let Ct=(()=>{class t{constructor(e,o){this.questionsService=e,this.inferenceMachine=o,this.questionsList=[],this.answers={scope:{id:l.SCOPE,response:[]}},this.finalAnswers=[]}ngOnInit(){this.getQuestions(),console.log(this.questionsList)}getQuestions(){this.questionsService.getQuestions().subscribe({next:e=>{Object.entries(e).forEach(o=>{const i=[],s=this.getIdTypeForEntryResponse(o[0]);o[1].forEach(a=>{i.push({id:s,response:a})}),this.questionsList.push({id:s,questionText:this.getQuestionTextForIdType(s),answers:i})})}})}getIdTypeForEntryResponse(e){switch(e){case"category":return l.CATEGORY;case"budget":return l.BUDGET;case"distance":return l.DISTANCE;case"duration":return l.DURATION;case"scope":return l.SCOPE;default:throw new Error("not one of the excepted strings!")}}getQuestionTextForIdType(e){switch(e){case l.CATEGORY:return"#1: Which type of vacation would you prefer to go?";case l.BUDGET:return"#2: What is your approximate budget for this trip?";case l.DISTANCE:return"#3: How far would you like to go? (approximate a value)";case l.DURATION:return"#4: How much do you plan to be in this destination?";case l.SCOPE:return"#5: What other thing would you like to do in this trip?";default:throw new Error("not one of the excepted strings!")}}onChange(e,o){console.log(this.answers.scope);const i=this.answers.scope.response.indexOf(e);o&&i<0?this.answers.scope.response=[...this.answers.scope.response,e]:!o&&i>=0&&this.answers.scope.response.splice(i,1)}submit(){this.finalAnswers=Object.values(this.answers),console.log(this.answers,this.finalAnswers),this.inferenceMachine.processAnswers(this.finalAnswers)}static#e=this.\u0275fac=function(o){return new(o||t)(r.Y36(L),r.Y36(pe))};static#t=this.\u0275cmp=r.Xpm({type:t,selectors:[["lib-questions"]],features:[r._Bn([L,pe])],decls:5,vars:1,consts:[[1,"flex","col-12","justify-content-center","text-7xl","mt-5","mb-7",2,"color","#1c80cf","font-style","italic"],[4,"ngFor","ngForOf"],["pButton","","pRipple","",1,"flex","mx-auto","my-5","p-button-primary","p-button-lg",3,"click"],[4,"ngIf"],[3,"for"],["type","checkbox",3,"id","name","value","checked","change"],["check",""],["type","radio",3,"id","ngModel","name","value","ngModelChange"]],template:function(o,i){1&o&&(r.TgZ(0,"h1",0),r._uU(1,"Find your perfect destination!"),r.qZA(),r.YNc(2,kn,5,2,"div",1),r.TgZ(3,"button",2),r.NdJ("click",function(){return i.submit()}),r._uU(4,"Submit your answers!\n"),r.qZA()),2&o&&(r.xp6(2),r.Q6J("ngForOf",i.questionsList))},dependencies:[N,ie,Ue,re,g.sg,g.O5,yt.Hq,vt.H],styles:["section[_ngcontent-%COMP%]{display:flex;flex-direction:row}section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1;padding:.5rem}input[type=radio][_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]{display:none;cursor:pointer}label[_ngcontent-%COMP%]{height:100%;display:block;background:white;border:2px solid #81B29A;border-radius:20px;padding:1rem;margin-bottom:1rem;text-align:center;box-shadow:0 3px 10px -2px #a1aaa680;position:relative}input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background:#81B29A;color:#fff;box-shadow:0 0 20px #81b29a}p[_ngcontent-%COMP%]{font-weight:900}.p-button-primary[_ngcontent-%COMP%]{color:#fff;background-color:#81b29a}.p-button-primary[_ngcontent-%COMP%]:hover, .p-button-primary[_ngcontent-%COMP%]:active{background-color:#3d405b}@media only screen and (max-width: 700px){section[_ngcontent-%COMP%]{flex-direction:column}}"]})}return t})();const In=[{path:"",component:Ct}];let Rn=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=r.oAB({type:t});static#n=this.\u0275inj=r.cJS({imports:[D.Bz.forChild(In),D.Bz]})}return t})();const Pn=["rb"],Un=function(t,n,e){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":t,"p-disabled":n,"p-radiobutton-label-focus":e}};function Hn(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"label",4),r.NdJ("click",function(i){r.CHM(e);const s=r.oxw();return r.KtG(s.select(i))}),r._uU(1),r.qZA()}if(2&t){const e=r.oxw(),o=r.MAs(3);r.Tol(e.labelStyleClass),r.Q6J("ngClass",r.kEZ(5,Un,o.checked,e.disabled,e.focused)),r.uIk("for",e.inputId),r.xp6(1),r.Oqu(e.label)}}const jn=function(t,n,e){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":t,"p-radiobutton-disabled":n,"p-radiobutton-focused":e}},Ln=function(t,n,e){return{"p-radiobutton-box":!0,"p-highlight":t,"p-disabled":n,"p-focus":e}},qn={provide:f,useExisting:(0,r.Gpc)(()=>$n),multi:!0};let Yn=(()=>{class t{constructor(){this.accessors=[]}add(e,o){this.accessors.push([e,o])}remove(e){this.accessors=this.accessors.filter(o=>o[1]!==e)}select(e){this.accessors.forEach(o=>{this.isSameGroup(o,e)&&o[1]!==e&&o[1].writeValue(e.value)})}isSameGroup(e,o){return!!e[0].control&&e[0].control.root===o.control.control.root&&e[1].name===o.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$n=(()=>{class t{constructor(e,o,i){this.cd=e,this.injector=o,this.registry=i,this.onClick=new r.vpe,this.onFocus=new r.vpe,this.onBlur=new r.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(m),this.checkName(),this.registry.add(this.control,this)}handleClick(e,o,i){e.preventDefault(),!this.disabled&&(this.select(e),i&&o.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}onChange(e){this.select(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36(r.zs3),r.Y36(Yn))},t.\u0275cmp=r.Xpm({type:t,selectors:[["p-radioButton"]],viewQuery:function(e,o){if(1&e&&r.Gf(Pn,5),2&e){let i;r.iGM(i=r.CRH())&&(o.inputViewChild=i.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[r._Bn([qn])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(e,o){if(1&e){const i=r.EpF();r.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),r.NdJ("change",function(a){return o.onChange(a)})("focus",function(a){return o.onInputFocus(a)})("blur",function(a){return o.onInputBlur(a)}),r.qZA()(),r.TgZ(4,"div",4),r.NdJ("click",function(a){r.CHM(i);const c=r.MAs(3);return r.KtG(o.handleClick(a,c,!0))}),r._UZ(5,"span",5),r.qZA()(),r.YNc(6,Hn,2,9,"label",6)}2&e&&(r.Tol(o.styleClass),r.Q6J("ngStyle",o.style)("ngClass",r.kEZ(15,jn,o.checked,o.disabled,o.focused)),r.xp6(2),r.Q6J("checked",o.checked)("disabled",o.disabled),r.uIk("id",o.inputId)("name",o.name)("value",o.value)("tabindex",o.tabindex)("aria-checked",o.checked)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy),r.xp6(2),r.Q6J("ngClass",r.kEZ(19,Ln,o.checked,o.disabled,o.focused)),r.xp6(2),r.Q6J("ngIf",o.label))},dependencies:[g.mk,g.O5,g.PC],encapsulation:2,changeDetection:0}),t})(),Wn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[g.ez]}),t})(),zn=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=r.oAB({type:t});static#n=this.\u0275inj=r.cJS({imports:[O.JF,D.Bz]})}return t})(),Qn=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=r.oAB({type:t});static#n=this.\u0275inj=r.cJS({imports:[zn,Rn,Wn,xn,O.JF,g.ez,yt.hJ,vt.T]})}return t})()}}]);